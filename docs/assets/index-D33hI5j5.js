function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const re="modulepreload",oe=function(t,e){return new URL(t,e).href},U={},ie=function(e,n,o){let r=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");r=Promise.all(n.map(s=>{if(s=oe(s,o),s in U)return;U[s]=!0;const c=s.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(!!o)for(let p=i.length-1;p>=0;p--){const d=i[p];if(d.href===s&&(!c||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":re,c||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),c)return new Promise((p,d)=>{f.addEventListener("load",p),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})}))}return r.then(()=>e()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})};async function se(t,e,n){if(n.numThreads()===0)throw new Error("num_threads must be > 0.");const o={module:t,memory:e,receiver:n.receiver()};await Promise.all(Array.from({length:n.numThreads()},async()=>{const r=new Worker(new URL(""+new URL("workerHelpers.worker-Dbya7RUO.js",import.meta.url).href,import.meta.url),{type:"module"});return r.postMessage(o),await new Promise(i=>r.addEventListener("message",i,{once:!0})),r})),n.build()}let a;const g=new Array(128).fill(void 0);g.push(void 0,null,!0,!1);function b(t){return g[t]}let L=g.length;function ae(t){t<132||(g[t]=L,L=t)}function F(t){const e=b(t);return ae(t),e}function _(t){L===g.length&&g.push(g.length+1);const e=L;return L=g[e],g[e]=t,e}const C=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&C.decode();let v=null;function A(){return(v===null||v.buffer!==a.memory.buffer)&&(v=new Uint8Array(a.memory.buffer)),v}function k(t,e){return t=t>>>0,C.decode(A().slice(t,t+e))}let u=0;const D=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},ce=function(t,e){const n=D.encode(t);return e.set(n),{read:t.length,written:n.length}};function B(t,e,n){if(n===void 0){const c=D.encode(t),l=e(c.length,1)>>>0;return A().subarray(l,l+c.length).set(c),u=c.length,l}let o=t.length,r=e(o,1)>>>0;const i=A();let s=0;for(;s<o;s++){const c=t.charCodeAt(s);if(c>127)break;i[r+s]=c}if(s!==o){s!==0&&(t=t.slice(s)),r=n(r,o,o=s+t.length*3,1)>>>0;const c=A().subarray(r+s,r+o),l=ce(t,c);s+=l.written,r=n(r,o,s,1)>>>0}return u=s,r}function le(t){return t==null}let x=null;function w(){return(x===null||x.buffer!==a.memory.buffer)&&(x=new Int32Array(a.memory.buffer)),x}function y(t,e){try{return t.apply(this,e)}catch(n){a.__wbindgen_export_4(_(n))}}function _e(){a.init_panic_hook()}let E=null;function N(){return(E===null||E.buffer!==a.memory.buffer)&&(E=new Float32Array(a.memory.buffer)),E}function h(t,e){const n=e(t.length*4,4)>>>0;return N().set(t,n/4),u=t.length,n}let T=null;function ue(){return(T===null||T.buffer!==a.memory.buffer)&&(T=new Uint32Array(a.memory.buffer)),T}function fe(t,e){const n=e(t.length*4,4)>>>0,o=ue();for(let r=0;r<t.length;r++)o[n/4+r]=_(t[r]);return u=t.length,n}function de(t,e){return t=t>>>0,N().subarray(t/4,t/4+e)}function ge(t){const e=a.initThreadPool(t);return F(e)}const we=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>a.__wbg_promjs_free(t>>>0));class me{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,we.unregister(this),e}free(){const e=this.__destroy_into_raw();a.__wbg_promjs_free(e)}constructor(e,n,o,r,i,s,c,l){try{const d=a.__wbindgen_add_to_stack_pointer(-16),q=h(e,a.__wbindgen_export_1),J=u,V=h(r,a.__wbindgen_export_1),K=u,Y=h(i,a.__wbindgen_export_1),G=u,Q=fe(s,a.__wbindgen_export_1),X=u,Z=h(c,a.__wbindgen_export_1),ee=u,te=h(l,a.__wbindgen_export_1),ne=u;a.promjs_new(d,q,J,n,o,V,K,Y,G,Q,X,Z,ee,te,ne);var j=w()[d/4+0],f=w()[d/4+1],p=w()[d/4+2];if(p)throw F(f);return this.__wbg_ptr=j>>>0,this}finally{a.__wbindgen_add_to_stack_pointer(16)}}compute_prom_ii(){a.promjs_compute_prom_ii(this.__wbg_ptr)}get_score(){try{const r=a.__wbindgen_add_to_stack_pointer(-16);a.promjs_get_score(r,this.__wbg_ptr);var e=w()[r/4+0],n=w()[r/4+1],o=de(e,n).slice();return a.__wbindgen_export_3(e,n*4,4),o}finally{a.__wbindgen_add_to_stack_pointer(16)}}re_weight(e){const n=h(e,a.__wbindgen_export_1),o=u;a.promjs_re_weight(this.__wbg_ptr,n,o)}}const H=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>a.__wbg_wbg_rayon_poolbuilder_free(t>>>0));class W{static __wrap(e){e=e>>>0;const n=Object.create(W.prototype);return n.__wbg_ptr=e,H.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,H.unregister(this),e}free(){const e=this.__destroy_into_raw();a.__wbg_wbg_rayon_poolbuilder_free(e)}numThreads(){return a.wbg_rayon_poolbuilder_numThreads(this.__wbg_ptr)>>>0}receiver(){return a.wbg_rayon_poolbuilder_receiver(this.__wbg_ptr)>>>0}build(){a.wbg_rayon_poolbuilder_build(this.__wbg_ptr)}}async function be(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(o){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function pe(){const t={};return t.wbg={},t.wbg.__wbg_new_abda76e883ba8a5f=function(){const e=new Error;return _(e)},t.wbg.__wbg_stack_658279fe44541cf6=function(e,n){const o=b(n).stack,r=B(o,a.__wbindgen_export_1,a.__wbindgen_export_2),i=u;w()[e/4+1]=i,w()[e/4+0]=r},t.wbg.__wbg_error_f851667af71bcfc6=function(e,n){let o,r;try{o=e,r=n,console.error(k(e,n))}finally{a.__wbindgen_export_3(o,r,1)}},t.wbg.__wbindgen_object_drop_ref=function(e){F(e)},t.wbg.__wbindgen_object_clone_ref=function(e){const n=b(e);return _(n)},t.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return y(function(){const e=self.self;return _(e)},arguments)},t.wbg.__wbg_window_c6fb939a7f436783=function(){return y(function(){const e=window.window;return _(e)},arguments)},t.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return y(function(){const e=globalThis.globalThis;return _(e)},arguments)},t.wbg.__wbg_global_207b558942527489=function(){return y(function(){const e=global.global;return _(e)},arguments)},t.wbg.__wbindgen_is_undefined=function(e){return b(e)===void 0},t.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(e,n){const o=new Function(k(e,n));return _(o)},t.wbg.__wbg_call_27c0f87801dedf93=function(){return y(function(e,n){const o=b(e).call(b(n));return _(o)},arguments)},t.wbg.__wbg_instanceof_Window_f401953a2cf86220=function(e){let n;try{n=b(e)instanceof Window}catch{n=!1}return n},t.wbg.__wbindgen_error_new=function(e,n){const o=new Error(k(e,n));return _(o)},t.wbg.__wbindgen_string_get=function(e,n){const o=b(n),r=typeof o=="string"?o:void 0;var i=le(r)?0:B(r,a.__wbindgen_export_1,a.__wbindgen_export_2),s=u;w()[e/4+1]=s,w()[e/4+0]=i},t.wbg.__wbindgen_throw=function(e,n){throw new Error(k(e,n))},t.wbg.__wbindgen_module=function(){const e=$.__wbindgen_wasm_module;return _(e)},t.wbg.__wbindgen_memory=function(){const e=a.memory;return _(e)},t.wbg.__wbg_startWorkers_2ee336a9694dda13=function(e,n,o){const r=se(F(e),F(n),W.__wrap(o));return _(r)},t}function he(t,e){t.wbg.memory=e||new WebAssembly.Memory({initial:18,maximum:16384,shared:!0})}function ye(t,e){return a=t.exports,$.__wbindgen_wasm_module=e,E=null,x=null,T=null,v=null,a.__wbindgen_start(),a}async function $(t,e){if(a!==void 0)return a;typeof t>"u"&&(t=new URL(""+new URL("mcdmrs_wasm_bg-C4oBsSlr.wasm",import.meta.url).href,import.meta.url));const n=pe();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t)),he(n,e);const{instance:o,module:r}=await be(await t,n);return ye(o,r)}let M,O=[],S,R,m,I;function ve(t,e){let n=t.toSorted((r,i)=>i-r).slice(0,e),o=[];for(const r in t)n.includes(t[r])&&o.push({ix:r,val:t[r]});return o.sort((r,i)=>i.val-r.val).map(r=>r.ix)}async function xe(){let t=Object.assign(document.createElement("div"),{style:"margin: 1em 0 1em 0",id:"loaded-data-notes"});t.innerText=`${R.length.toLocaleString()} records loaded. `;let e=m.length*m[0].length*m[0].length;t.innerText+=`Computing ${e.toLocaleString()} pairwise comparisons.`;let n=document.getElementById("data_summary");n.innerHTML=z(S.map(o=>o.slice(1))),n.append(t)}function z(t){let e="<table>";for(const n in t){e+="<tr>";for(const o in t[n])e+="<td>"+t[n][o]+"</td>";e+="</tr>"}return e+="</table>",e}async function Ee(){O=[...Array(m.length)].map(e=>1);let t=document.getElementById("slidecontainer");t.innerHTML="";for(const e in m){let n=Object.assign(document.createElement("div"),{style:"display: flex; align-content: center; padding: 0.5em;"}),o=Object.assign(document.createElement("label"),{id:`weight_l_${e}}`,for:`weight_i_${e}`,style:"display: inline-block; width: 200px; justify-content:center"}),r=Object.assign(document.createElement("span"),{id:`weight_v_${e}}`});r.setAttribute("id",`weight_v_${e}}`);let i=Object.assign(document.createElement("input"),{id:`weight_i_${e}`,name:`weight_i_${e}`,type:"range",min:"0.1",max:"5",step:.1,class:"slider",data_index:`${e}`});i.value="1";let s=I[parseInt(e)+1];o.innerHTML=s,r.innerHTML=`${i.value}`,i.oninput=function(){let c=parseInt(this.data_index);r.innerHTML=`${this.value}`,O[c]=parseFloat(this.value),P()},i.addEventListener("wheel",function(c){c.deltaY<0?this.value=(parseFloat(this.value)+parseFloat(this.step)).toString():this.value=(parseFloat(this.value)-parseFloat(this.step)).toString();let l=parseInt(this.data_index);r.innerHTML=`${this.value}`,O[l]=parseFloat(this.value),P(),c.preventDefault(),c.stopPropagation()}),n.append(o,i,r),t.append(n)}}async function Te(t=10){const{criteria:e,data_long:n,transpose:o}=await ie(()=>import("./data-BH5YTHfy.js"),__vite__mapDeps([]),import.meta.url);I=n[0].map(i=>i.trim().replaceAll("_"," ").split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")),S=e,R=n.slice(0,t+1).filter(i=>i.length>1&&i.every(s=>!isNaN(parseFloat(s))&&typeof parseFloat(s)=="number")),m=o(R.map(i=>i.slice(1)));let r=o(S).slice(2).map(i=>i.slice(1));try{M=new me(m.flat(),m[0].length,m.length,...r)}catch(i){alert(i);return}xe(),Ee()}async function P(){let t,e;t=performance.now(),M.compute_prom_ii(),e=performance.now(),console.log(`ms: ${(e-t).toPrecision(4)}`),t=performance.now(),M.re_weight(O),e=performance.now(),console.log(`ms: ${(e-t).toPrecision(4)}`);let n=M.get_score(),o=ve(n,10),r=[[...I,"Score"]];for(const s of o){let c=[...R[s]];c.push(n[s]),r.push(c.map((l,j)=>j===0?parseInt(l):parseFloat(l).toLocaleString("en",{maximumFractionDigits:2})))}let i=document.getElementById("results_table");i.innerHTML="",i.innerHTML=z(r)}async function Le(){await $(),await ge(Math.max(Math.ceil(navigator.hardwareConcurrency/2),2)),_e(),document.getElementById("compute_prom_ii").addEventListener("click",async()=>{M&&await P()})}Le();window.load_data=Te;
